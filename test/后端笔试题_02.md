# 后端笔试题

## 1. 网页数据结构化

### 说明
- 根据医生个人介绍页，抽取医生个人简介信息，数据结构化处理，方便下一步入库。

### 字段映射表
key是结构化抽取后的字段名，value是key的同义词。比如网页中contact、phone信息可以归到phone字段。
```json
    {
        "name": ["姓名", "name"],
        "organization": ["医院机构", "诊所", "药厂", "公司", "hospital", "clinic"],
        "department": ["科室", "部门", "department"],
        "position": ["职务", "职位", "position"],
        "title": ["职称", "title"],
        "phone": ["电话", "contact", "phone", "mobile"],
        "email": ["邮箱", "email", "电邮"],
        "location": ["位置", "地址", "城市", "location", "office location"],
        "work_experience": ["工作经历", "work experience", "career"],
        "education": ["学习经历", "学历", "education"],
        "publications": ["文献著作", "出版", "论文", "publications","pubmed"]
    }
```

### 要求
1. 根据指定的字段，从几个不同的网页总结共性规律，注意：医生个人介绍页的结构并不固定； 
2. 通过规则模板或其他方式抽取字段内容，形成JSON格式的数据； 
3. 抽取的字段数据要尽可能准确、完整，比如publications的所有论文不遗漏；
4. 不限制开发语言，可以使用Python，也可以使用LLM大模型技术。

### 待抽取的网页URL
- [Thomas Kosten, M.D. | BCM](https://www.bcm.edu/people-search/thomas-kosten-24837)

- [James Zacny | Profiles RNS](https://profiles.uchicago.edu/profiles/display/37485)

- [Warren Bickel | Psychology Department](https://support.psyc.vt.edu/users/wkbickel)

- [Walter Ling, M.D. | Semel Institute for Neuroscience and Human Behavior](https://www.semel.ucla.edu/profile/walter-ling-md)

- [David R. Gandara, M.D. for UC Davis Health](https://health.ucdavis.edu/cancer/team/292/david-gandara---cancer---hematology-oncology---internal-medicine-sacramento/)

- [Dean Sittig, PhD - Faculty & Staff - McWilliams School of Biomedical Informatics at UTHealth Houston](https://sbmi.uth.edu/faculty-and-staff/dean-sittig.htm)

### 结构化之后的样例
以[Thomas Kosten, M.D. | BCM](https://www.bcm.edu/people-search/thomas-kosten-24837)为例说明
```json
    {
        "name": "Thomas Kosten, M.D.",
        "organization": "BCM",
        "department": "",
        "position": ["Jay H. Waggoner Endowed Chair", "Vice-Chair", "Director",...],
        "title": "",
        "phone": "713-794-7032",
        "email": "kosten@bcm.edu",
        "location": "",
        "work_experience": "",
        "education": ["MA from Yale University 01/1995 - New Haven, Connecticut United States", ...],
        "publications": ["Malison RT, McCance E, Carpenter LL, Baldwin RM, Seibyl JP, Price LH, Kosten TR, Innis RB [123I]beta-CIT SPECT imaging of dopamine transporter availability after mazindol administration in human cocaine addicts.. Psychopharmacology (Berl.). 1998 Jun;137(4):321-5. Pubmed PMID: 9676890",...]
    }
```

## 2. 数据处理
### 说明
- 给定三张表：clinicaltrial，pubmed，cde。每张表都有 name，email，institution 这些共同字段，也有特有字段如 clinicaltrial_info，pubmed_paper_info，或 cde_trial_info。请写一个 SQL 查询，从这三张表中提取所有医生的信息，并将它们放入新表 doctor_info。
- 注意：cde 表的 name 可能是中文，而 clinicaltrial 和 pubmed 表的 name 是英文。为了解决这个问题，可以做一个映射表 name_mapping，其字段包括 chinese_name 和 english_name。

### 参考
为了解决这个问题，请考虑以下步骤：

- 创建 doctor_info 表，包括所需字段。
- 提取 clinicaltrial 和 pubmed 表中的医生信息并插入 doctor_info 表。
- 通过使用 name_mapping 表，提取 cde 表中的医生信息并插入 doctor_info 表。